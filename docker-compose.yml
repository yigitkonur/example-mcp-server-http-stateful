services:
  mcp-server:
    build: .
    container_name: example-mcp-stateful
    ports:
      - '1453:1453'
    environment:
      PORT: 1453
      HOST: 0.0.0.0
      SESSION_TTL_MS: 1800000
      EVENT_MAX_COUNT: 5000
      EVENT_MAX_AGE_MS: 86400000
    healthcheck:
      test: ['CMD', 'wget', '--spider', '-q', 'http://127.0.0.1:1453/health']
      interval: 20s
      timeout: 3s
      retries: 3
      start_period: 5s
